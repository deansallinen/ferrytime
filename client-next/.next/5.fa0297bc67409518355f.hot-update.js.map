{"version":3,"file":"5.fa0297bc67409518355f.hot-update.js","sources":["webpack:///pages/post.js"],"sourcesContent":["import Link from 'next/link';\nimport { request } from 'graphql-request';\nimport { format } from 'date-fns';\n\n// const URL = 'https://server-dubymzzcjd.now.sh/graphql'\nconst URL = 'http://localhost:4000/graphql';\n\nconst formatSailingTime = (time) => {\n    format(Number(sailing.scheduledDeparture), 'DD-MM-YY HH:ss')\n}\n\nconst Post = props => (\n  <div>\n    <h1>{props.route.routeName}</h1>\n    <ul>\n      {props.route.sailings.map(sailing => {\n        console.log(sailing);\n        return (\n          <li key={sailing.id}>\n            {sailing.vessel} -{' '}\n            {format(Number(sailing.scheduledDeparture), 'DD-MM-YY HH:ss')} -{' '}\n            {sailing.actualDeparture} - {sailing.eta} - {sailing.sailingStatus}\n          </li>\n        );\n      })}\n    </ul>\n  </div>\n);\n\nPost.getInitialProps = async function(context) {\n  const routeName = context.query.id;\n  const gqlq = `{\n      route(routeName: \"${routeName}\"){\n          routeName\n          sailings {\n              id\n              vessel\n              scheduledDeparture\n              actualDeparture\n              eta\n              sailingStatus\n          }\n      }\n  }`;\n  const res = await request(URL, gqlq);\n  console.log(`Route info fetched. Sailings: ${res.route.sailings.length}`);\n  return res;\n};\n\nexport default Post;\n\n\n\n// WEBPACK FOOTER //\n// pages/post.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAbA;AACA;AAiBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAeA;AACA;AAhBA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAmBA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}